@page "/roster"
@inherits TableData
@using BlazorApp1.Data
<PageTitle>GuardianRoster</PageTitle>
<h1>Guardian Roster</h1>


<div class="Database-Grid">
    <h2>
        DataGrid popullated with information from Objects!
    </h2>
    <RadzenDataGrid AllowFiltering="true"
                    AllowColumnResize="true"
                    AllowAlternatingRows="false"
                    FilterMode="FilterMode.Advanced"
                    AllowSorting="true"
                    PageSize="5"
                    AllowPaging="true"
                    PagerHorizontalAlign="HorizontalAlign.Left"
                    ShowPagingSummary="true"
                    Data="@_items"
                    TItem="TableItems"
                    RowClick="(e => OnRowClicked(e.Data.Id))">
        <Columns>
            <RadzenDataGridColumn TItem="TableItems" Property="Id" Title="Guardian ID" Frozen="true" Width="160px" />
            <RadzenDataGridColumn TItem="TableItems" Property="Name" Title="Name" Frozen="true" Width="160px" />
            <RadzenDataGridColumn TItem="TableItems" Property="Age" Title="Age" Frozen="true" Width="160px" />
            <RadzenDataGridColumn TItem="TableItems" Property="Description" Title="Info" Frozen="true" Width="300px" />
        </Columns>

    </RadzenDataGrid>
</div>


<div class="Database-Grid">
    <h2>
        DataGrid popullated with information from database!
    </h2>
    <RadzenDataGrid AllowFiltering="true"
                    AllowColumnResize="true"
                    AllowAlternatingRows="false"
                    FilterMode="FilterMode.Advanced"
                    AllowSorting="true"
                    PageSize="5"
                    AllowPaging="true"
                    PagerHorizontalAlign="HorizontalAlign.Left"
                    ShowPagingSummary="true"
                    Data="@_guardianDetails"
                    TItem="GuardianDetails"
                    EmptyText="@EmptyText"
                    RowClick="(e => OnRowClicked(e.Data.Id))">
        <Columns>
            <RadzenDataGridColumn TItem="GuardianDetails" Property="Id" Title="Guardian ID" Frozen="true" Width="80px" TextAlign="TextAlign.Center" />
            <RadzenDataGridColumn TItem="GuardianDetails" Title="Photo" Frozen="true" Sortable="false" Filterable="false" Width="80px" TextAlign="TextAlign.Center">
                <Template Context="data">
                    <RadzenImage Path="@data.Portrait" class="rz-gravatar" />
                </Template>
            </RadzenDataGridColumn>
            <RadzenDataGridColumn TItem="GuardianDetails" Property="Name" Title="Name" Frozen="true" Width="80px" TextAlign="TextAlign.Center" />
            <RadzenDataGridColumn TItem="GuardianDetails" Property="Age" Title="Age" Frozen="true" Width="80px" TextAlign="TextAlign.Center" />
            <RadzenDataGridColumn TItem="GuardianDetails" Property="Description" Title="Info" Frozen="true" Width="300px" TextAlign="TextAlign.Center" />
        </Columns>

    </RadzenDataGrid>
</div>

<RadzenPanel AllowCollapse="true" Style="width: 700px; margin: 40px auto;">
    <HeaderTemplate>
        <h4 class="m-0 d-flex align-items-center">
            <RadzenIcon Icon="account_box" Class="me-1" /><b>Guardians</b>
        </h4>
    </HeaderTemplate>
    <ChildContent>
        <RadzenCard Class="mt-3">
            <RadzenDataList PageSize="4" WrapItems="true" AllowPaging="true"
                            Data="@_guardianDetails" TItem="GuardianDetails">
                <Template Context="order">
                    <RadzenCard Style="width: 250px">
                        <div class="row">
                            <div class="col-md-8 text-truncate">
                                <RadzenBadge BadgeStyle="BadgeStyle.Light" Text=@($"{order.Id}") Class="me-1" />
                                <b>@(order.Class)</b>
                            </div>
                            <div class="col-md-4 text-end">
                                <RadzenBadge BadgeStyle="BadgeStyle.Success" Text=@($"{order.Age}") />
                            </div>
                        </div>
                        <hr style="border: none; background-color: rgba(0,0,0,.08); height: 1px; margin: 1rem 0;" />
                        <div class="d-flex flex-row align-items-center">
                            <RadzenImage Path="@order.Portrait" Class="rounded-circle float-start me-3" Style="width: 80px; height: 80px;" />
                            <div>
                                <h4 class="mb-0">@(order.Name)</h4>
                                <div>@order.Description</div>
                                
                            </div>
                        </div>
                    </RadzenCard>
                </Template>
            </RadzenDataList>
        </RadzenCard>
    </ChildContent>
</RadzenPanel>
